query walletBalance($walletId: String!) {
  wallet(id: $walletId) {
    id
    balance
  }
}

subscription walletSubscription($walletIds: [ID!], $mutation: [MutationType!]) {
  wallets(id: $walletIds, mutation: $mutation) {
    id
    _entity
  }
}

query walletTokenBalances($walletId: String!) {
  tokenBalances(filter: { wallet: { id: { equalTo: $walletId } } }) {
    nodes {
      id
      ...KeybanClient_TokenBalance
    }
  }
}

subscription tokenBalancesSubscription(
  $tokenBalancesIds: [ID!]
  $mutation: [MutationType!]
) {
  tokenBalances(id: $tokenBalancesIds, mutation: $mutation) {
    id
    mutation_type
    _entity
  }
}

query walletNfts($walletId: String!) {
  nftBalances(filter: { wallet: { id: { equalTo: $walletId } } }) {
    nodes {
      id
      ...KeybanClient_NftBalance
    }
  }
}

subscription nftsSubscription($nftIds: [ID!], $mutation: [MutationType!]) {
  nfts(id: $nftIds, mutation: $mutation) {
    id
    mutation_type
    _entity
  }
}

query walletNft($nftBalanceId: String!) {
  nftBalance(id: $nftBalanceId) {
    id
    ...KeybanClient_NftBalance
  }
}

query walletAssetTransfers($walletId: String!) {
  assetTransfers(
    filter: {
      or: [
        { from: { id: { equalTo: $walletId } } }
        { to: { id: { equalTo: $walletId } } }
      ]
    }
  ) {
    nodes {
      id
      ...KeybClient_AssetTransfer
    }
  }
}

fragment KeybanClient_TokenContract on TokenContract {
  id
  type
  name
  symbol
  decimals
  iconUrl
}

fragment KeybanClient_TokenBalance on TokenBalance {
  id
  token {
    id
    ...KeybanClient_TokenContract
  }
  balance
}

fragment KeybanClient_Nft on Nft {
  id
  collection {
    id
    ...KeybanClient_TokenContract
  }
  tokenId
  metadata
}

fragment KeybanClient_NftBalance on NftBalance {
  id
  nft {
    id
    ...KeybanClient_Nft
  }
  balance
}

fragment KeybClient_AssetTransfer on AssetTransfer {
  id
  from {
    id
  }
  to {
    id
  }
  type
  blockNumber
  value
  timestamp
  success
  token {
    id
    ...KeybanClient_TokenContract
  }
  nft {
    id
    ...KeybanClient_Nft
  }
}
