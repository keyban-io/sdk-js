# query KeybanClient_chain($chain: ChainType!) {
#   chain(type: $chain) {
#     id
#     rpcUrl
#   }
# }

query KeybanClient_walletBalance($address: String!) {
  wallet(id: $address) {
    id
    balance
  }
}

subscription KeybanClient_walletSubscription($address: ID!) {
  wallets(id: [$address]) {
    id
    _entity
  }
}

fragment KeybanClient_TokenContract on TokenContract {
  id
  type
  name
  symbol
  decimals
  iconUrl
}

fragment KeybanClient_TokenBalance on TokenBalance {
  id
  token {
    id
    ...KeybanClient_TokenContract
  }
  balance
}

query KeybanClient_walletTokenBalances($address: String!) {
  tokenBalances(filter: { wallet: { id: { equalTo: $address } } }) {
    nodes {
      id
      ...KeybanClient_TokenBalance
    }
  }
}

fragment KeybanClient_Nft on Nft {
  id
  collection {
    id
    ...KeybanClient_TokenContract
  }
  tokenId
  metadata
}

fragment KeybanClient_NftBalance on NftBalance {
  id
  nft {
    id
    ...KeybanClient_Nft
  }
  balance
}

query KeybanClient_walletNfts($address: String!) {
  nftBalances(filter: { wallet: { id: { equalTo: $address } } }) {
    nodes {
      id
      ...KeybanClient_NftBalance
    }
  }
}

query KeybanClient_walletNft($id: String!) {
  nftBalance(id: $id) {
    id
    ...KeybanClient_NftBalance
  }
}

query KeybanClient_walletTransactionHistory($address: String!) {
  assetTransfers(
    filter: {
      or: [
        { from: { id: { equalTo: $address } } }
        { to: { id: { equalTo: $address } } }
      ]
    }
  ) {
    nodes {
      id
      from {
        id
      }
      to {
        id
      }
      type
      blockNumber
      value
      timestamp
      success
      token {
        id
        ...KeybanClient_TokenContract
      }
      nft {
        id
        ...KeybanClient_Nft
      }
    }
  }
}
